<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Uma Página Para Você</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Caveat&family=Montserrat&family=Pacifico&family=Playfair+Display&family=Poppins:wght@300;400;600&family=Roboto+Slab&family=Source+Code+Pro&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #1a1a2e;
            overflow-x: hidden;
        }
        .font-pacifico {
            font-family: 'Pacifico', cursive;
        }
        h2 {
            font-family: 'Roboto Slab', serif;
        }
        #secret-message {
            font-family: 'Source Code Pro', monospace;
        }
        #compliment-text {
            font-family: 'Caveat', cursive;
            font-size: 1.75rem; /* Tamanho maior para a fonte de caligrafia */
            line-height: 2.25rem;
            min-height: 90px; /* Evita que o layout pule com cantadas de tamanhos diferentes */
        }
        .star {
            position: absolute;
            background: white;
            border-radius: 50%;
            animation: twinkle 5s infinite ease-in-out;
        }
        @keyframes twinkle {
            0%, 100% { opacity: 0.5; transform: scale(0.8); }
            50% { opacity: 1; transform: scale(1); }
        }
        .card {
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        .btn-magic {
            background: linear-gradient(45deg, #f87171, #fb923c, #a78bfa, #c084fc);
            background-size: 400% 400%;
            animation: gradient-animation 10s ease infinite;
        }
        @keyframes gradient-animation {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }
        .fade-in {
            animation: fadeInAnimation 1s ease-in forwards;
            opacity: 0;
        }
        @keyframes fadeInAnimation {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .fade-out {
            animation: fadeOutAnimation 1s ease-out forwards;
        }
        @keyframes fadeOutAnimation {
            from { opacity: 1; }
            to { opacity: 0; }
        }
        .fade-in-delay-1 { animation-delay: 0.2s; }
        .fade-in-delay-2 { animation-delay: 0.4s; }
        .fade-in-delay-3 { animation-delay: 0.6s; }
        .fade-in-delay-4 { animation-delay: 0.8s; }
         @keyframes shake {
            10%, 90% { transform: translate3d(-1px, 0, 0); }
            20%, 80% { transform: translate3d(2px, 0, 0); }
            30%, 50%, 70% { transform: translate3d(-4px, 0, 0); }
            40%, 60% { transform: translate3d(4px, 0, 0); }
        }
    </style>
</head>
<body class="text-white">

    <!-- Fundo de estrelas -->
    <div id="star-background" class="fixed top-0 left-0 w-full h-full -z-10"></div>

    <!-- Tela de Início -->
    <div id="start-screen" class="fixed top-0 left-0 w-full h-full z-20 flex flex-col items-center justify-center text-center p-4">
        <header class="mb-8 fade-in">
            <h1 class="font-pacifico text-5xl md:text-7xl text-purple-300 drop-shadow-lg">Feito pra você, Duda Fófano</h1>
        </header>
        <button id="start-button" class="btn-magic text-white font-bold py-3 px-8 rounded-full transition-transform transform hover:scale-110 shadow-lg fade-in fade-in-delay-1">
            Começar
        </button>
    </div>

    <!-- Conteúdo Principal -->
    <main id="main-content" class="hidden">
        <div class="container mx-auto px-4 py-12 min-h-screen flex flex-col items-center justify-center">
            <!-- Seção 2: Gerador de Elogios -->
            <section class="w-full max-w-2xl text-center mb-16 fade-in fade-in-delay-1">
                <div class="card rounded-2xl p-8 shadow-2xl">
                    <h2 class="text-3xl font-bold mb-4 text-pink-300">Gerador de Cantadas (quase) Infalíveis</h2>
                    <p class="mb-6" id="compliment-text"></p>
                    <button id="compliment-button" class="btn-magic text-white font-bold py-3 px-8 rounded-full transition-transform transform hover:scale-110 shadow-lg">
                        Tentar outra cantada
                    </button>
                </div>
            </section>

            <!-- Seção 3: Bola de Cristal -->
            <section class="w-full max-w-2xl text-center mb-16 fade-in fade-in-delay-2">
                <div class="card rounded-2xl p-8 shadow-2xl">
                     <h2 class="text-3xl font-bold mb-4 text-amber-300">A Bola de Cristal do Destino</h2>
                     <p class="mb-6">O que será que o futuro nos reserva? Faça uma pergunta (em pensamento) e clique para descobrir.</p>
                     <div id="crystal-ball-container" class="relative w-48 h-48 mx-auto mb-6 cursor-pointer group">
                        <div class="w-full h-full bg-blue-900 rounded-full absolute top-0 left-0 opacity-60 group-hover:opacity-80 transition-opacity"></div>
                        <div id="crystal-ball-reflection" class="w-20 h-10 bg-white rounded-full absolute top-6 left-10 opacity-20 -rotate-12 group-hover:scale-110 transition-transform"></div>
                        <div id="crystal-ball-inner" class="w-full h-full flex items-center justify-center">
                            <span id="crystal-ball-text" class="text-xl font-bold text-white transition-opacity duration-500 opacity-0 text-center px-2">?</span>
                        </div>
                     </div>
                     <button id="crystal-ball-button" class="btn-magic text-white font-bold py-3 px-8 rounded-full transition-transform transform hover:scale-110 shadow-lg">
                        Revelar o Futuro
                    </button>
                </div>
            </section>
            
            <!-- Nova Seção: Mensagem Secreta -->
            <section class="w-full max-w-2xl text-center mb-16 fade-in fade-in-delay-3">
                <div class="card rounded-2xl p-8 shadow-2xl">
                     <h2 class="text-3xl font-bold mb-4 text-teal-300">Decifre a Mensagem Secreta</h2>
                     <p class="mb-6">Existe uma mensagem escondida aqui. Será que você consegue revelá-la?</p>
                     <div class="bg-gray-900 rounded-lg p-4 mb-6 text-left">
                        <pre id="secret-message" class="text-lg whitespace-pre-wrap text-green-400"></pre>
                     </div>
                     <button id="decrypt-button" class="btn-magic text-white font-bold py-3 px-8 rounded-full transition-transform transform hover:scale-110 shadow-lg">
                        Decifrar
                    </button>
                </div>
            </section>

            <!-- Seção 5: Convite Final -->
            <section class="w-full max-w-2xl text-center fade-in fade-in-delay-4">
                <div class="card rounded-2xl p-8 shadow-2xl">
                    <h2 class="text-3xl font-bold mb-4 text-cyan-300">indo para realidade...</h2>
                    <p class="text-lg mb-6">Este site tem um último easter egg, mas ele só funciona offline...</p>
                    <a href="data:text/vcard;charset=utf-8,BEGIN%3AVCARD%0AVERSION%3A3.0%0AFN%3AAmor%20Da%20Sua%20Vida%0ATEL%3BTYPE%3DCELL%3A33984363259%0AEND%3AVCARD" download="contato.vcf" class="bg-green-500 text-white font-bold py-3 px-8 rounded-full transition-transform transform hover:scale-110 shadow-lg hover:bg-green-400 inline-block">
                        Eu topo!
                    </a>
                </div>
            </section>
        </div>

        <!-- Rodapé -->
        <footer class="text-center py-8 text-gray-400 text-sm">
            <p>Feito por Rafael Chaves Sebe.</p>
        </footer>
    </main>

    <!-- Reprodutor de Música do YouTube -->
    <div id="player" style="display: none;"></div>

    <script>
        // Carrega a API do YouTube Player de forma assíncrona.
        var tag = document.createElement('script');
        tag.src = "https://www.youtube.com/iframe_api";
        var firstScriptTag = document.getElementsByTagName('script')[0];
        firstScriptTag.parentNode.insertBefore(tag, firstScriptTag);

        var player;
        // Esta função é chamada pela API do YouTube quando o código está pronto.
        function onYouTubeIframeAPIReady() {
            player = new YT.Player('player', {
                height: '0',
                width: '0',
                videoId: 'izGwDsrQ1eQ',
                playerVars: {
                    'autoplay': 1,
                    'controls': 0,
                    'loop': 1,
                    'playlist': 'izGwDsrQ1eQ', // Necessário para o loop funcionar
                    'modestbranding': 1,
                    'rel': 0,
                    'showinfo': 0,
                    'playsinline': 1 // Essencial para iOS
                },
                events: {
                    'onReady': onPlayerReady
                }
            });
        }

        // A API chama esta função quando o player está pronto.
        function onPlayerReady(event) {
            event.target.mute(); // Deixa mudo para o autoplay funcionar
            event.target.playVideo();
            // Adiciona um listener para tirar o mudo na primeira interação do usuário
            document.body.addEventListener('click', unmuteOnFirstInteraction, { once: true });
            document.body.addEventListener('touchstart', unmuteOnFirstInteraction, { once: true });
        }

        function unmuteOnFirstInteraction() {
            if (player && typeof player.unMute === 'function') {
                player.unMute();
                // Garante que o vídeo toque caso o autoplay inicial tenha sido bloqueado
                if (player.getPlayerState() !== 1) { // 1 === YT.PlayerState.PLAYING
                    player.playVideo();
                }
            }
        }

        document.addEventListener('DOMContentLoaded', function() {
            // --- Script da Tela de Início ---
            const startScreen = document.getElementById('start-screen');
            const startButton = document.getElementById('start-button');
            const mainContent = document.getElementById('main-content');

            startButton.addEventListener('click', () => {
                startScreen.classList.add('fade-out');

                startScreen.addEventListener('animationend', () => {
                    startScreen.style.display = 'none';
                    mainContent.classList.remove('hidden');
                }, { once: true });
            });
            
            // --- Script para Fundo de Estrelas ---
            const starBackground = document.getElementById('star-background');
            const numStars = 100;
            for (let i = 0; i < numStars; i++) {
                let star = document.createElement('div');
                star.className = 'star';
                let size = Math.random() * 3;
                star.style.width = `${size}px`;
                star.style.height = `${size}px`;
                star.style.top = `${Math.random() * 100}%`;
                star.style.left = `${Math.random() * 100}%`;
                star.style.animationDelay = `${Math.random() * 5}s`;
                starBackground.appendChild(star);
            }

            // --- Script para Gerador de Cantadas ---
            const compliments = [
                "Você é cardiologista? Porque você acelerou meu coração.",
                "Você deve ser um ângulo de 90 graus, porque está sempre certa.",
                "Nossa relação é como um gráfico de f(x) = x², sempre positiva.",
                "Sua beleza é de deixar qualquer um em parada cardiorrespiratória.",
                "Você deve ser feita de Cobre e Telúrio, porque é muito Cu-Te.",
                "Você é uma hemorragia? Porque não consigo te estancar do meu pensamento.",
                "Você não é Azitromicina, mas um pouco de você curaria qualquer mal.",
                "Gata, você é a hipotenusa? Porque é o lado oposto ao meu ângulo reto.",
                "Você é neurologista? Porque você não sai da minha cabeça.",
                "Queria ser uma integral para preencher a área sob as suas curvas.",
                "Acho que estou com arritmia toda vez que te vejo.",
                "Você é a raiz quadrada de -1? Porque você é simplesmente irreal.",
                "Se eu fosse uma enzima, seria a helicase para abrir seu coração.",
                "Se a beleza fosse um número, você seria o infinito.",
                "Você é a vacina que eu preciso contra a tristeza.",
                "Você é uma calculadora? Porque sem você, não consigo resolver meus problemas.",
                "Você transforma meu conjunto vazio em um conjunto unitário.",
                "Seu nome é Mielina? Porque você acelera meus impulsos nervosos.",
                "Você é um axioma? Porque aceito sua beleza sem precisar de provas.",
                "Me chama de desfibrilador, porque você reanima meu coração.",
                "Se você fosse uma função, seria a minha preferida para derivar.",
                "Nós dois temos uma química perfeita.",
                "Você é um ponto e vírgula? Porque sinto que não posso continuar sem você.",
                "Seu nome é CSS? Porque você dá estilo a tudo na minha vida.",
                "Esquece a segunda lei de Newton. A única força que importa é a nossa atração.",
                "Você deve ser um buraco negro, pois a força da sua atração é irresistível.",
                "Me chama de Pitágoras e deixa eu te mostrar que a soma dos nossos quadrados é a perfeição.",
                "Você é um número primo? Porque você é realmente única.",
                "Se nós fôssemos funções, eu seria sua derivada para estar sempre tangente a você."
            ];
            const complimentText = document.getElementById('compliment-text');
            const complimentButton = document.getElementById('compliment-button');
            let shuffledCompliments = [...compliments];
            let complimentIndex = 0;
            let showingFinalMessage = false;
            const finalMessage = "Se nenhuma dessas cantadas funcionar, me manda uma melhor.";

            function shuffle(array) {
                for (let i = array.length - 1; i > 0; i--) {
                    const j = Math.floor(Math.random() * (i + 1));
                    [array[i], array[j]] = [array[j], array[i]];
                }
            }

            // Initial setup
            shuffle(shuffledCompliments);
            complimentText.textContent = shuffledCompliments[0];

            complimentButton.addEventListener('click', () => {
                let nextText = "";

                if (showingFinalMessage) {
                    // Reset and reshuffle
                    shuffle(shuffledCompliments);
                    complimentIndex = 0;
                    showingFinalMessage = false;
                    nextText = shuffledCompliments[complimentIndex];
                } else {
                    complimentIndex++;
                    if (complimentIndex < shuffledCompliments.length) {
                        nextText = shuffledCompliments[complimentIndex];
                    } else {
                        // Reached the end, show the final message
                        nextText = finalMessage;
                        showingFinalMessage = true;
                    }
                }
                
                complimentText.style.opacity = 0;
                setTimeout(() => {
                    complimentText.textContent = nextText;
                    complimentText.style.opacity = 1;
                }, 300);
            });

            // --- Script para Bola de Cristal ---
            const crystalBallButton = document.getElementById('crystal-ball-button');
            const crystalBallText = document.getElementById('crystal-ball-text');
            const crystalBallContainer = document.getElementById('crystal-ball-container');

            const answers = [
                "É certo!",
                "Sinais apontam que sim.",
                "Pode contar com isso.",
                "Tudo indica que vai rolar.",
                "Sem dúvida.",
                "As perspectivas são boas.",
                "Acho que sim.",
                "Concentre-se e pergunte de novo."
            ];

            const showAnswer = () => {
                const randomIndex = Math.floor(Math.random() * answers.length);
                const answer = answers[randomIndex];

                crystalBallText.textContent = "?";
                crystalBallText.style.opacity = '0';
                crystalBallContainer.style.animation = '';


                setTimeout(() => {
                    crystalBallContainer.style.animation = 'shake 0.8s';
                }, 100);

                setTimeout(() => {
                    crystalBallText.textContent = answer;
                    crystalBallText.style.opacity = '1';
                    crystalBallContainer.style.animation = '';
                }, 900);
            };
            
            crystalBallButton.addEventListener('click', showAnswer);
            crystalBallContainer.addEventListener('click', showAnswer);

            // --- Script para Mensagem Secreta ---
            const decryptButton = document.getElementById('decrypt-button');
            const secretMessageElement = document.getElementById('secret-message');
            const secretPhrases = [
                "Cada clique revela um pouco mais...",
                "Ainda não acabou, tem mais um segredo...",
                "Você está perto de descobrir tudo.",
                "Só mais um enigma para resolver.",
                "Clique no botão verde no final da página para descobrir..."
            ];
            const chars = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789!@#$%^&*()[]{};";
            let currentPhraseIndex = -1;
            let isDecrypting = false;

            // Gera um texto inicial aleatório para parecer um código
            let initialEncryptedText = "";
            const placeholderLength = secretPhrases[0].length;
            for (let i = 0; i < placeholderLength; i++) {
                 if (secretPhrases[0][i] === ' ') {
                    initialEncryptedText += ' '; // Mantém espaços para preservar a estrutura
                } else {
                    initialEncryptedText += chars[Math.floor(Math.random() * chars.length)];
                }
            }
            secretMessageElement.textContent = initialEncryptedText;

            const decryptNextMessage = () => {
                if (isDecrypting) return;
                isDecrypting = true;

                currentPhraseIndex = (currentPhraseIndex + 1) % secretPhrases.length;
                const finalMessage = secretPhrases[currentPhraseIndex];
                
                decryptButton.disabled = true;
                decryptButton.style.opacity = '0.5';
                decryptButton.style.cursor = 'not-allowed';

                let iteration = 0;
                
                const interval = setInterval(() => {
                    secretMessageElement.textContent = finalMessage.split("")
                        .map((char, index) => {
                            if (finalMessage[index] === ' ') return ' ';
                            if(index < iteration) {
                                return finalMessage[index];
                            }
                            return chars[Math.floor(Math.random() * chars.length)];
                        })
                        .join("");
                    
                    if(iteration >= finalMessage.length){ 
                        clearInterval(interval);
                        secretMessageElement.textContent = finalMessage;
                        decryptButton.disabled = false;
                        decryptButton.style.opacity = '1';
                        decryptButton.style.cursor = 'pointer';
                        isDecrypting = false;
                    }
                    
                    iteration += 1 / 2;
                }, 40);
            };

            decryptButton.addEventListener('click', decryptNextMessage);

        });
    </script>

</body>
</html>

